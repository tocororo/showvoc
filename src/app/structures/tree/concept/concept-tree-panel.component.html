<div class="card vbox">
	<div class="card-header">
		<div class="btn-toolbar float-right">
			<button class="btn btn-light btn-sm" [ngClass]="{active: rendering}" title="Rendering" (click)="rendering=!rendering">
				<i class="fas fa-font"></i>
			</button>
			<button class="btn btn-light btn-sm ml-1" [title]="'COMMONS.ACTIONS.REFRESH'|translate" (click)="refresh()">
				<span class="fas fa-sync"></span>
			</button>
			<button class="btn btn-light btn-sm ml-1" [title]="'COMMONS.SETTINGS'|translate" (click)="settings()">
				<span class="fas fa-cog"></span>
			</button>
		</div>
	</div>

	<div class="card-body vbox" style="position: relative">

		<div *ngIf="schemeChangeable" class="pb-1" style="display: flex; align-items: center">
			<span class="mx-1" style="white-space: nowrap;">{{'DATA.SCHEME.CONCEPT_SCHEME'|translate}}:</span>
			<select class="form-control form-control-sm" [(ngModel)]="selectedScheme" (ngModelChange)="onSchemeSelectionChange()">
				<option value="---">no-scheme</option>
				<option *ngFor="let s of schemeList" [value]="s.getValue().getIRI()">{{getSchemeRendering(s)}}</option>
			</select>
		</div>

		<div *ngIf="visualizationMode == 'searchBased' && !closedAlert" class="alert alert-info alert-dismissible mb-1">
			{{'DATA.CONCEPT.USE_SEARCH_MSG'|translate}}
			<button class="close" (click)="closedAlert=true">
				<span>&times;</span>
			</button>
		</div>

		<concept-tree [schemes]="workingSchemes" [rendering]="rendering" [showDeprecated]="showDeprecated" [context]="context"
			(nodeSelected)="onNodeSelected($event)" (requireSettings)="settings()">
		</concept-tree>

	</div>

	<div *ngIf="!hideSearch" class="card-footer">
		<search-bar (searchResults)="handleSearchResults($event)" [roles]="[panelRole]" [schemes]="schemesForSearchBar"></search-bar>
	</div>

</div>