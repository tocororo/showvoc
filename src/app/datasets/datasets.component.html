<div class="container my-3">
	<h1>Browse PMKI datasets</h1>

	<div class="hbox">

		<div class="vbox" style="flex: 1">
			<div class="card">
				<div class="card-header">
					Dataset type
				</div>
				<div class="card-body">
                    <div *ngFor="let f of datasetTypeFacets" class="form-check">
						<label class="form-check-label">
							<input class="form-check-input" type="checkbox" [(ngModel)]="f.active" (ngModelChange)="onFacetChange()">
							{{f.label}}
						</label>
					</div>
                </div>
                <div class="list-group list-group-flush">
                    <div class="list-group-item" style="padding: 6px;">
                        <div class="form-check">
                            <label class="form-check-label">
                                <input class="form-check-input" type="checkbox" [(ngModel)]="openCheck" (ngModelChange)="onFacetChange()">
                                Only open datasets
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="card vbox ml-2" style="flex: 4;">
            <div class="card-header d-flex align-items-center">
                <label style="flex: 1">Datasets</label>
                <button class="btn btn-sm btn-light" style="line-height: 1;" (click)="initDatasets()" title="Refresh datasets">
                    <span class="fas fa-sync fa-sm"></span>
                </button>
            </div>
            <div class="card-body scrollableContainer">
                <div *ngIf="loading" class="spinner-border text-info"></div>
                <ng-container *ngIf="!loading">
                    <div *ngFor="let p of projects" class="card mb-1">
                        <div class="card-body">
                            <h5 class="card-title mb-1">
                                <p *ngIf="!p.isOpen()" class="text-muted">{{p.getName()}}</p>
                                <a *ngIf="p.isOpen()" [routerLink]="" (click)="goToProject(p)">{{p.getName()}}</a>
                            </h5>
                            <div class="p-1 border-left border-bottom" style="position: absolute; top: 0; right: 0; border-bottom-left-radius: 5px">
                                <span class="mr-2">
                                    <span class="mr-1">Model:</span><span class="badge badge-info">{{p.getModelType(true)}}</span>
                                </span>
                                <span>
                                    <span class="mr-1">Lexicalization:</span><span class="badge badge-info">{{p.getLexicalizationModelType(true)}}</span>
                                </span>
                            </div>

                            <p class="card-text text-secondary mb-2" style="font-size: 13px;">{{p.getBaseURI()}}</p>

                            <p class="card-text text-dark">{{p.getDescription()}}</p>
                        </div>
                    </div>
                </ng-container>
            </div>
            <div class="card-footer">
                <div class="input-group input-group-sm">
                    <input type="text" class="form-control" [(ngModel)]="filterString" (ngModelChange)="filterDatasets()" placeholder="Filter">
                    <div class="input-group-append">
                        <span class="input-group-text">
                            <i class="fas fa-filter"></i>
                        </span>
                    </div>
                </div>
            </div>
        </div>
        
	</div>
</div>